# 2. Use Modular Monolith System Architecture

Date: 2024-01-29

## Status

Accepted

## Context

마이크로서비스 아키텍처는 그 유연성, 확장성, 그리고 서비스 독립성 때문에 많은 현대적 소프트웨어 개발 프로젝트에서 선호되는 설계 방식입니다. 이는 각 서비스가 독립적으로 개발, 배포, 확장될 수 있도록 하여, 큰
시스템을 더 작고 관리하기 쉬운 부분으로 나눕니다. 하지만 이러한 분산 시스템은 네트워크 지연, 데이터 일관성 유지, 복잡한 서비스 간 통신, 그리고 보안 문제와 같은 도전과제를 내포합니다. 따라서, 마이크로서비스
아키텍처의 혜택을 실제로 얻으려면, 이러한 복잡성과 관련된 기술적 어려움을 해결하는 것이 필수적입니다.

한편, 모노리스 아키텍처는 종종 큰 진흙 덩어리로 묘사되며, 이는 시스템이 커짐에 따라 유지보수와 확장이 어려워진다는 인식 때문입니다. 그러나 모든 모노리스가 나쁜 것은 아닙니다. 오히려 초기 단계에서는 모노리스
아키텍처가 더 간단하고 관리하기 쉬운 경우가 많습니다. 중요한 것은 시스템이 성장함에 따라 이러한 아키텍처가 유연하게 확장되고, 변경될 수 있는지 여부입니다.

아키텍처에 있어서 "더 좋거나 나쁜" 것은 없습니다. 각각의 아키텍처는 그 자체의 장단점을 가지며, 중요한 것은 프로젝트의 요구사항, 팀의 경험, 그리고 시스템이 운영될 환경을 근거로 한 유연한 판단입니다. 시스템은
외부 환경의 변화에 끊임없이 영향을 받으며, 이에 적응하며 성장할 수 있는 능력을 갖추는 것이 중요합니다. 따라서, 아키텍처 선택은 단순히 기술적인 결정을 넘어서, 시스템이 장기적으로 지속 가능하고, 확장 가능하며,
유지보수가 용이하도록 하는 전략적인 결정이어야 합니다.

## Decision

우리는 모듈형 모노리스 아키텍처를 사용하기로 결정했습니다. 모듈형 모놀리스는 모듈 방식으로 설계된 모노리스 시스템의 명시적 이름입니다.

모듈화를 통해 시스템을 논리적으로 구분하고, 각 모듈이 독립적으로 기능할 수 있도록 함으로써, 큰 진흙 덩어리의 단점을 최소화하고, 마이크로서비스의
장점 일부를 모노리스 내에서 구현할 수 있습니다. 이는 고도의 응집도와 낮은 결합도를 유지하면서도, 시스템 전체의 복잡성을 관리할 수 있는 방법을 제공합니다. 결국, 모듈형 모노리스는 변화에 유연하게 대응하면서도
관리 가능한 코드베이스를 유지할 수 있는 균형 잡힌 접근법을 제시할 수 있습니다.

## Consequences

- 모든 모듈은 단일 애플리케이션 내의 하나의 프로세스에서 실행되며, 이는 시스템의 일관성과 통합성을 보장합니다.
- 각 모듈은 고도의 자율성을 유지하며, 외부 기술 요소로부터 독립적으로 작동하도록 설계됩니다.
- 모듈은 관심사에 따라 비즈니스 로직을 다루는 수직적 모듈과 로깅이나 보안과 같은 공통 기능을 제공하는 수평적 모듈로 구분됩니다.
- 수직적 모듈은 도메인 주도 설계(DDD)의 전술적 설계 원칙을 따라 하위 도메인을 기반으로 상위 경계를 형성하며, 이는 각 모듈이 비즈니스의 특정 영역에 집중할 수 있도록 합니다. 
